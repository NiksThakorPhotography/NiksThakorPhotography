<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Sample Album â€” NiksThakorPhotography</title>
<style>
body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:#061226;color:#eef2f7;overflow:hidden;}
header{padding:12px;display:flex;align-items:center;justify-content:space-between;}
h1{font-size:18px;margin:0;}
.viewer-wrap{display:flex;flex-direction:column;align-items:center;padding:12px;}
#flipbook{width:95%;max-width:1200px;height:85vh;margin-top:10px;}
.page{background:#fff;border-radius:6px;overflow:hidden;display:flex;align-items:center;justify-content:center;}
.page img{width:100%;height:100%;object-fit:contain;}
.controls{margin-top:10px;display:flex;gap:8px;align-items:center;}
.btn{background:#0f1724;padding:8px 12px;border-radius:8px;color:#fff;text-decoration:none;border:1px solid rgba(255,255,255,0.04);}
.caption{color:#9aa4b2;margin-top:8px;}
</style>
</head>
<body>
<header>
  <div><h1>Sample Album</h1><div style="color:#9aa4b2;font-size:13px">NiksThakorPhotography</div></div>
  <div>
    <a class="btn" id="copyLink">Copy Link</a>
    <a class="btn" href="../">Back</a>
  </div>
</header>

<div class="viewer-wrap">
  <div id="flipbook"></div>
  <div class="controls">
    <a class="btn" id="prevBtn">Prev</a>
    <a class="btn" id="nextBtn">Next</a>
  </div>
  <div class="caption" id="caption">Swipe ya click karke pages flip karein.</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/4.1.0/turn.min.js"></script>

<script>
const maxTry = 200;
const imgFolder = 'images';
const flipbookEl = document.getElementById('flipbook');
let images = [];

function pad(n){return String(n).padStart(2,'0');}
function testImage(src){ 
  return new Promise(resolve=>{
    const img=new Image(); 
    img.onload=()=>resolve(true); 
    img.onerror=()=>resolve(false); 
    img.src=src; 
  }); 
}

async function findImages(){
  for(let i=1;i<=maxTry;i++){
    const name = pad(i) + '.jpg';
    const src = imgFolder + '/' + name;
    const ok = await testImage(src);
    if(ok) images.push(name);
    else if(images.length>0) break;
  }
}

function buildPages(){
  if(images.length===0){
    flipbookEl.innerHTML = '<div style="padding:28px;background:#fff;border-radius:8px;color:#111">Koi image nahi mili.</div>';
    return;
  }

  flipbookEl.innerHTML = '';

  // 1. Add cover page (blank left)
  const cover = document.createElement('div');
  cover.className = 'page';
  cover.innerHTML = '<div style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:24px;color:#555;">Cover</div>';
  flipbookEl.appendChild(cover);

  // 2. Add pages in pairs (double-page view)
  for(let i=0;i<images.length;i++){
    const div = document.createElement('div');
    div.className='page';
    const img = document.createElement('img');
    img.src = imgFolder + '/' + images[i];
    img.alt = images[i];
    div.appendChild(img);
    flipbookEl.appendChild(div);
  }

  $('#flipbook').turn({
    width: Math.min(window.innerWidth*0.95, 1200),
    height: Math.min(window.innerHeight*0.85, 800),
    autoCenter: true,
    display: 'double',
    acceleration: true,
    direction: 'ltr'
  });
}

async function init(){
  await findImages();
  buildPages();
  document.addEventListener('keydown', e=>{
    if(e.key==='ArrowRight') $('#flipbook').turn('next');
    if(e.key==='ArrowLeft') $('#flipbook').turn('previous');
  });
}

init();

document.getElementById('prevBtn').addEventListener('click', ()=>$('#flipbook').turn('previous'));
document.getElementById('nextBtn').addEventListener('click', ()=>$('#flipbook').turn('next'));

document.getElementById('copyLink').addEventListener('click', ()=>{
  navigator.clipboard.writeText(location.href).then(()=>{ alert('Link copied to clipboard'); })
  .catch(()=>{ prompt('Copy this link', location.href); });
});
</script>
</body>
</html>
